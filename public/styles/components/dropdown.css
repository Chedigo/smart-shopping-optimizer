�/* Foretrukne butikker � dropdown */
.dropdown { position: relative; display: inline-block; z-index: 10; }
.dropdown__menu {
  position: absolute;
  top: 100%;
  min-width: 220px;
  background: var(--surface, #fff);
  border: 1px solid var(--border, #e5e7eb);
  border-radius: 12px;
  box-shadow: 0 6px 24px rgba(0,0,0,.08);
  padding: 8px;
  max-height: 300px;
  overflow: auto;
  z-index: 9999;
}

/* Header + switch */
.dropdown__head {
  display: flex; align-items: center; justify-content: space-between;
  padding: 4px 6px 8px 6px;
  border-bottom: 1px solid var(--border, #e5e7eb);
  margin-bottom: 6px;
}
.chains-list { list-style: none; margin: 0; padding: 0; }
.chain-item {
  display: flex; align-items: center; gap: 8px;
  padding: 6px 8px; border-radius: 8px; cursor: pointer;
}
.chain-item:hover { background: var(--hover, #f5f7f9); }
.chain-item:focus { outline: 2px solid var(--accent, var(--accent-500)); outline-offset: 2px; }
.chain-item .dot { width: 10px; height: 10px; border-radius: 999px; background: #9ca3af; }
.chain-item.is-selected .dot { background: var(--accent, var(--accent-500)); }
.chain-item.is-selected .label { font-weight: 600; }

/* Switch */
.switch { display: flex; align-items: center; gap: 8px; position: relative; }
.switch input { position: absolute; opacity: 0; width: 0; height: 0; }
.slider {
  position: relative; width: 38px; height: 22px; border-radius: 999px;
  background: #c7ccd1; display: inline-block; vertical-align: middle;
}
.slider::after {
  content: ""; position: absolute; top: 3px; left: 3px;
  width: 16px; height: 16px; border-radius: 50%; background: #fff;
  transition: transform .2s ease;
}
.switch input:checked + .slider { background: color-mix(in oklab, var(--color-primary) 75%, white); }
.switch input:checked + .slider::after { transform: translateX(16px); }
.switch__label { font-size: .9rem; }

/* --- Auto-flip retning --- */
.dropdown__menu { left: 0; right: auto; transform-origin: top left; }
.dropdown__menu.is-right-anchored { left: auto; right: 0; transform-origin: top right; }

/* --- VIKTIG: Aktiv stil for knappen (høy spesifisitet) ---
   Vi overstyrer evtl. .btn-standarder i button.css ved å bruke både ID og klasse,
   og vi setter eksplisitt border-style.  */
.btn.btn--sm#chainsBtn.active-filter,
#chainsBtn.btn.btn--sm.active-filter {
  background-color: color-mix(in oklab, var(--color-primary) 15%, transparent); /* smaragd toner */
  border-color: var(--color-primary);
  border-width: 2px;
  border-style: solid;            /* i tilfelle .btn setter border-style: none */
  color: inherit;                 /* behold tekstfarge eller bytt til #065f46 om du vil ha mørkere */
}

/* Litt mer tydelig når aktiv + hover/focus */
.btn.btn--sm#chainsBtn.active-filter:hover,
#chainsBtn.btn.btn--sm.active-filter:hover {
  background-color: color-mix(in oklab, var(--color-primary) 25%, transparent);
  border-color: color-mix(in oklab, var(--color-primary) 80%, white);
}

.btn.btn--sm#chainsBtn.active-filter:focus-visible,
#chainsBtn.btn.btn--sm.active-filter:focus-visible {
  outline: 2px solid var(--accent, var(--accent-500));
  outline-offset: 2px;
}
/* Aktiv stil for "Foretrukne butikker"-knappen.
   Vi overstyrer knappesystemets variabler slik at .btn bruker disse verdiene. */
#chainsBtn.active-filter {
  --btn-bg: color-mix(in oklab, var(--color-primary) 15%, transparent);
  --btn-bd: var(--color-primary);
  --btn-fg: var(--color-text);         /* lesbar tekst (bruk gjerne #065f46 for mørkere) */
  border-width: 2px;                   /* litt tydeligere kant */
}
#chainsBtn.active-filter:hover {
  --btn-bg: color-mix(in oklab, var(--color-primary) 25%, transparent);
  --btn-bd: color-mix(in oklab, var(--color-primary) 80%, white);
}
#chainsBtn.active-filter:focus-visible {
  outline: 3px solid var(--accent, var(--accent-500));
  outline-offset: 2px;
}




